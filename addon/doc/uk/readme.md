# Покращення миші

Це набір удосконалень для роботи з мишею в NVDA.  
Деякі функції в майбутньому можуть бути винесені в окремі доповнення.

* Автор: hwf1324 <1398969445@qq.com>  
* Сумісність: NVDA 2022.1 або новіша

## Можливості

* Виправлено відстеження миші в застосунках на базі [Electron](https://www.electronjs.org/) (лише з NVDA 2024.4 або новішою).  
  * Застосунки Electron, наприклад [VS Code](https://code.visualstudio.com/).  
* Експериментальне виправлення відстеження миші у застосунках [WinUI](https://github.com/microsoft/microsoft-ui-xaml), [Zoom](https://www.zoom.com/), [飞书](https://www.feishu.cn/).  
  * [Windows Terminal](https://github.com/microsoft/terminal): якщо текстова одиниця — абзац, то переміщення миші в елементі Terminal обмежує текстову одиницю рядками.  
* Виправлено частину в Панелі керування NVIDIA, де вміст статичного текстового елемента відображався неправильно.  
* Усунено проблему, коли деякі кнопки в [PDFgear](https://www.pdfgear.com/) не мали описового тексту.  
* Автоматичне оновлення об’єкта миші. Об’єкт миші оновлюється автоматично при прокручуванні коліщатка миші або наприкінці кожного циклу ядра NVDA. (Ця функція може бути корисною під час використання коліщатка миші.) Вмикається/вимикається в налаштуваннях "Візуальна допомога" NVDA.

## Історія змін

### v0.8.0

* Вилучено нестабільні функції стосуючі Git for Windows Installer.
* Оновлено шаблон додатка.
* Додано український переклад інтерфейсу та документації.

### v0.7.2

* Виправлено некоректну сумісність API, мінімальна підтримувана версія NVDA змінена на 2022.1.  

### v0.7.1

* Автоматичне оновлення об’єкта миші: підвищено стабільність при оновленні об’єктів миші під час прокручування коліщатка.  
* Переспрямування повідомлень миші, що надходять через хук NVDA, до точки розширення `pre_handleWindowMessage`. (Параметри wParam та lParam виключено, вони мають бути встановлені в `None`.)  

### v0.7.0

* Автоматичне оновлення об’єкта миші: додано спосіб автоматично оновлювати об’єкт миші під час прокручування коліщатка.  
* Перероблено розділ налаштувань автоматичного оновлення об’єкта миші.  
* Оновлено сумісність із NVDA 2025.1, мінімальна підтримувана версія NVDA змінена на 2021.1.  
* Додано переклад китайською (zh_CN).  

### v0.6.0

* Додано можливість автоматично оновлювати об’єкт миші наприкінці кожного циклу ядра NVDA.  

### v0.5.1

* Electron: виправлено зависання при перегляді пропозицій пошуку в адресному рядку Chrome.  
* Очищення коду: застосовано пропозиції @josephsl. (Коментарі до коду ще не повністю доведені до ладу.)  

### v0.5.0

* Експериментально: виправлено відстеження миші в Zoom, 飞书.  
* Electron: обмежено об’єкт перенаправлення до IAccessible, щоб виключити застосунки, які використовують UIA.  
* Інсталятор Git for Windows: перехоплення винятків, які можна безпечно ігнорувати.  

### v0.4.0

* Експериментально: виправлено відстеження миші у застосунках WinUI, змусивши `obj.appModule.isGoodUIAWindow` завжди повертати `True`, якщо об’єкт має певну властивість `windowClassName`.  
  * Windows Terminal: якщо текстова одиниця — абзац, переміщення миші в елементі Terminal обмежує текстову одиницю рядками.  
* Electron: очищено зайву логіку перевірок.  
* Оновлено шаблон доповнення.  

### v0.3.0

* Назву доповнення змінено на: Mouse Enhancement (Покращення миші). (Не враховано оновлення попередніх версій.)  
* Ігнорується помилка під час входу в екран безпеки, коли об’єкт не має атрибута windowClassName.  
* Відстеження миші може озвучувати опис параметрів в інсталяторі Git for Windows. (Окремі опції неможливо переглядати індивідуально.)  
* Оновлено шаблон доповнення.  

### v0.2.0

* Виправлено частину в Панелі керування NVIDIA, де вміст статичного тексту відображався некоректно.  
* Усунено проблему, коли деякі кнопки в PDFgear не мали описового тексту.  

### v0.1.0

* Виправлено відстеження миші у застосунках Electron.  

## Подяки

* Дякуємо @jcsteh у <https://github.com/nvaccess/nvda/issues/17108> за поради щодо виправлення відстеження миші у застосунках Electron.  
* Дякуємо @codeofdusk у <https://github.com/nvaccess/nvda/issues/17407#issuecomment-2544712156> за спосіб експериментального виправлення відстеження миші у застосунках WinUI.  
